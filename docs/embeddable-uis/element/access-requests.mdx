---
sidebar_position: 2
title: Access Requests API Documentation
---

# Access Requests API Documentation

This documentation provides details about the Access Requests API.

## Overview

The Access Requests API allows you to manage access requests in your application .
Access requests enable your users to request access to specific roles.

## Getting Started

To use the Access Requests API, follow these steps:

### 1. API Initialization

Before making any requests, initialize an instance of the Access Requests API in your backend logic. Ensure you have your API key or other necessary credentials.

```python
# Example initialization code
access_requests_api =
```

### 2. Creating an Access Request

To create a new access request, make a POST request to the following with the required data.

```bash
https://api.permit.io/v2/facts/{project_id}/{env_id}/access_requests
  -H 'element_id: ELEMENTS_CONFIG_ID'
```
The required data is as follows:

```python
# Example code for creating an access request
 {
                "access_request_details": {
                    "tenant": "34f5c98e-f430-457b-a812-92637d0c6fd0",
                    "resource": "4d5215ed-38bb-48ed-879a-fdb9ca58522f",
                    "resource_instance": "2d98d9f8-e1b7-4f1d-baad-2edbf6fa6c66",
                    "role": "ac4e70c8-d5be-48af-93eb-760f58fc91a9",
                },
                "time_limit": {
                    "start_time": "2019-08-24T14:15:22Z",
                    "end_time": "2019-09-24T14:15:22Z",
                },
                "reason": "done onboarding",
            }
```

The return user object will look like this:
```json
{
                "requesting_user_id": "1c1e4ada-f282-40e6-b3b7-20b3a51c93b5",
                "access_request_details": {
                    "tenant": "34f5c98e-f430-457b-a812-92637d0c6fd0",
                    "resource": "4d5215ed-38bb-48ed-879a-fdb9ca58522f",
                    "resource_instance": "2d98d9f8-e1b7-4f1d-baad-2edbf6fa6c66",
                    "role": "ac4e70c8-d5be-48af-93eb-760f58fc91a9",
                },
                "reason": "string",
                "org_id": "7c60d51f-b44e-4682-87d6-449835ea4de6",
                "project_id": "405d8375-3514-403b-8c43-83ae74cfe0e9",
                "env_id": "40ef0e48-a11f-4963-a229-e396c9f7e7c4",
                "created_at": "2019-08-24T14:15:22Z",
                "updated_at": "2019-08-24T14:15:22Z",
                "time_limit": {
                    "start_time": "2019-08-24T14:15:22Z",
                    "end_time": "2019-09-24T14:15:22Z",
                },
                "status": None,
                "reviewer_user_id": None,
                "reviewed_at": None,
                "reviewer_comment": None,
            }
```
### 3.Get an Access Request

To get a specific access request, make a GET request to the following.

```bash
https://api.permit.io/v2/facts/{project_id}/{env_id}/access_requests/{access_request_id}
  -H 'element_id: ELEMENTS_CONFIG_ID'
```
The return user object will look like this:
```json
{
                "requesting_user_id": "1c1e4ada-f282-40e6-b3b7-20b3a51c93b5",
                "access_request_details": {
                    "tenant": "34f5c98e-f430-457b-a812-92637d0c6fd0",
                    "resource": "4d5215ed-38bb-48ed-879a-fdb9ca58522f",
                    "resource_instance": "2d98d9f8-e1b7-4f1d-baad-2edbf6fa6c66",
                    "role": "ac4e70c8-d5be-48af-93eb-760f58fc91a9",
                },
                "reason": "string",
                "org_id": "7c60d51f-b44e-4682-87d6-449835ea4de6",
                "project_id": "405d8375-3514-403b-8c43-83ae74cfe0e9",
                "env_id": "40ef0e48-a11f-4963-a229-e396c9f7e7c4",
                "created_at": "2019-08-24T14:15:22Z",
                "updated_at": "2019-08-24T14:15:22Z",
                "time_limit": {
                    "start_time": "2019-08-24T14:15:22Z",
                    "end_time": "2019-09-24T14:15:22Z",
                },
                "status": "approved",
                "reviewer_user_id": "1b287364-14ff-4b72-8953-b40399093a6f",
                "reviewed_at": "2019-08-24T14:15:22Z",
                "reviewer_comment": "new employee",
            }
```
### 4. Get list of Access Requests

To get list of access requests, make a GET request to the following.

```bash
https://api.permit.io/v2/facts/{project_id}/{env_id}/access_requests
  -H 'element_id: ELEMENTS_CONFIG_ID'
```

The return user object will look like this:
```json
{
                "requesting_user_id": "1c1e4ada-f282-40e6-b3b7-20b3a51c93b5",
                "access_request_details": {
                    "tenant": "34f5c98e-f430-457b-a812-92637d0c6fd0",
                    "resource": "4d5215ed-38bb-48ed-879a-fdb9ca58522f",
                    "resource_instance": "2d98d9f8-e1b7-4f1d-baad-2edbf6fa6c66",
                    "role": "ac4e70c8-d5be-48af-93eb-760f58fc91a9",
                },
                "reason": "string",
                "org_id": "7c60d51f-b44e-4682-87d6-449835ea4de6",
                "project_id": "405d8375-3514-403b-8c43-83ae74cfe0e9",
                "env_id": "40ef0e48-a11f-4963-a229-e396c9f7e7c4",
                "created_at": "2019-08-24T14:15:22Z",
                "updated_at": "2019-08-24T14:15:22Z",
                "time_limit": {
                    "start_time": "2019-08-24T14:15:22Z",
                    "end_time": "2019-09-24T14:15:22Z",
                },
                "status": "approved",
                "reviewer_user_id": "1b287364-14ff-4b72-8953-b40399093a6f",
                "reviewed_at": "2019-08-24T14:15:22Z",
                "reviewer_comment": "new employee",
            }
```

### 5. Updating an Reviewer details in the Access Request

To update a new access request, make a PUT request to the following with the optional data.

```bash
https://api.permit.io/v2/facts/{project_id}/{env_id}/access_requests/{access_request_id}/reviewer
  -H 'element_id: ELEMENTS_CONFIG_ID'
```
The optional data is as follows:

```python
# Example code for creating an access request
 {
                 "time_limit": {
                     "start_time": "2019-08-24T14:15:22Z",
                     "end_time": "2019-09-24T14:15:22Z",
                 },
                 "reviewer_comment": "new employee",
                 "reviewer_user": "1b287364-14ff-4b72-8953-b40399093a6f",
             }
```

The return user object will look like this:
```json
{
                "requesting_user_id": "1c1e4ada-f282-40e6-b3b7-20b3a51c93b5",
                "access_request_details": {
                    "tenant": "34f5c98e-f430-457b-a812-92637d0c6fd0",
                    "resource": "4d5215ed-38bb-48ed-879a-fdb9ca58522f",
                    "resource_instance": "2d98d9f8-e1b7-4f1d-baad-2edbf6fa6c66",
                    "role": "ac4e70c8-d5be-48af-93eb-760f58fc91a9",
                },
                "reason": "string",
                "org_id": "7c60d51f-b44e-4682-87d6-449835ea4de6",
                "project_id": "405d8375-3514-403b-8c43-83ae74cfe0e9",
                "env_id": "40ef0e48-a11f-4963-a229-e396c9f7e7c4",
                "created_at": "2019-08-24T14:15:22Z",
                "updated_at": "2019-08-24T14:15:22Z",
                "time_limit": {
                    "start_time": "2019-08-24T14:15:22Z",
                    "end_time": "2019-09-24T14:15:22Z",
                },
                "status": "approved",
                "reviewer_user_id": "1b287364-14ff-4b72-8953-b40399093a6f",
                "reviewed_at": "2019-08-24T14:15:22Z",
                "reviewer_comment": "new employee",
            }
```


### 5. Approve Access Request

To approve an access request, make a PUT request to the following with the optional data.

```bash
https://api.permit.io/v2/facts/{project_id}/{env_id}/access_requests/{access_request_id}/approve
  -H 'element_id: ELEMENTS_CONFIG_ID'
```
The optional data is as follows:

```python
# Example code for creating an access request
 {
                 "time_limit": {
                     "start_time": "2019-08-24T14:15:22Z",
                     "end_time": "2019-09-24T14:15:22Z",
                 },
                 "reviewer_comment": "new employee",
             }
```

The return user object will look like this:
```json
{
                "requesting_user_id": "1c1e4ada-f282-40e6-b3b7-20b3a51c93b5",
                "access_request_details": {
                    "tenant": "34f5c98e-f430-457b-a812-92637d0c6fd0",
                    "resource": "4d5215ed-38bb-48ed-879a-fdb9ca58522f",
                    "resource_instance": "2d98d9f8-e1b7-4f1d-baad-2edbf6fa6c66",
                    "role": "ac4e70c8-d5be-48af-93eb-760f58fc91a9",
                },
                "reason": "string",
                "org_id": "7c60d51f-b44e-4682-87d6-449835ea4de6",
                "project_id": "405d8375-3514-403b-8c43-83ae74cfe0e9",
                "env_id": "40ef0e48-a11f-4963-a229-e396c9f7e7c4",
                "created_at": "2019-08-24T14:15:22Z",
                "updated_at": "2019-08-24T14:15:22Z",
                "time_limit": {
                    "start_time": "2019-08-24T14:15:22Z",
                    "end_time": "2019-09-24T14:15:22Z",
                },
                "status": "approved",
                "reviewer_user_id": "1b287364-14ff-4b72-8953-b40399093a6f",
                "reviewed_at": "2019-08-24T14:15:22Z",
                "reviewer_comment": "new employee",
            }
```

### 5. Deny Access Request

To deny an access request, make a PUT request to the following with the optional data.

```bash
https://api.permit.io/v2/facts/{project_id}/{env_id}/access_requests/{access_request_id}/deny
  -H 'element_id: ELEMENTS_CONFIG_ID'
```
The optional data is as follows:

```python
# Example code for creating an access request
 {
                 "time_limit": {
                     "start_time": "2019-08-24T14:15:22Z",
                     "end_time": "2019-09-24T14:15:22Z",
                 },
                 "reviewer_comment": "need more info",
             }
```

The return user object will look like this:
```json
{
                "requesting_user_id": "1c1e4ada-f282-40e6-b3b7-20b3a51c93b5",
                "access_request_details": {
                    "tenant": "34f5c98e-f430-457b-a812-92637d0c6fd0",
                    "resource": "4d5215ed-38bb-48ed-879a-fdb9ca58522f",
                    "resource_instance": "2d98d9f8-e1b7-4f1d-baad-2edbf6fa6c66",
                    "role": "ac4e70c8-d5be-48af-93eb-760f58fc91a9",
                },
                "reason": "string",
                "org_id": "7c60d51f-b44e-4682-87d6-449835ea4de6",
                "project_id": "405d8375-3514-403b-8c43-83ae74cfe0e9",
                "env_id": "40ef0e48-a11f-4963-a229-e396c9f7e7c4",
                "created_at": "2019-08-24T14:15:22Z",
                "updated_at": "2019-08-24T14:15:22Z",
                "time_limit": {
                    "start_time": "2019-08-24T14:15:22Z",
                    "end_time": "2019-09-24T14:15:22Z",
                },
                "status": "deny",
                "reviewer_user_id": "1b287364-14ff-4b72-8953-b40399093a6f",
                "reviewed_at": "2019-08-24T14:15:22Z",
                "reviewer_comment": "need more info",
            }
```